<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Industrial Web Scraper</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">Industrial Scraper</a>
            <div>
                <button id="darkToggle" class="btn btn-outline-secondary btn-sm">Dark</button>
            </div>
        </div>
    </nav>

    <main class="container py-4">
        <div class="row">
            <div class="col-lg-5">
                <div class="card shadow-sm mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Scrape Settings</h5>

                        <div id="toast-container" class="position-fixed top-0 end-0 p-3" style="z-index:1055"></div>

                        <div class="mb-3">
                            <label class="form-label">Website URL</label>
                            <input id="url" class="form-control" placeholder="https://example.com">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Selector Type</label>
                            <select id="selector_type" class="form-select">
                                <option value="class">Class</option>
                                <option value="id">ID</option>
                                <option value="tag">Tag</option>
                                <option value="css">CSS Selector</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Selector Value</label>
                            <input id="selector_value" class="form-control" placeholder="e.g. content or .main > p">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Attribute (optional)</label>
                            <input id="attr" class="form-control" placeholder="href, src, alt (leave blank for text)">
                        </div>

                        <div class="mb-2">
                            <a class="btn btn-sm btn-link" data-bs-toggle="collapse" href="#advanced"
                                role="button">Advanced options</a>
                        </div>

                        <div class="collapse" id="advanced">
                            <div class="mt-3">
                                <label class="form-label">Pagination (pattern)</label>
                                <input id="pag_pattern" class="form-control" placeholder="https://site/page={}">
                                <div class="row mt-2">
                                    <div class="col">
                                        <input id="pag_start" class="form-control" placeholder="start" value="1"
                                            type="number">
                                    </div>
                                    <div class="col">
                                        <input id="pag_count" class="form-control" placeholder="pages" value="1"
                                            type="number">
                                    </div>
                                    <div class="col">
                                        <input id="pag_delay" class="form-control" placeholder="delay (s)" value="1"
                                            type="number">
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3">
                                <label class="form-label">Request timeout (s)</label>
                                <input id="timeout" class="form-control" value="10" type="number">
                            </div>
                        </div>

                        <div class="d-grid gap-2 mt-4">
                            <button id="scrapeBtn" class="btn btn-success">ðŸš€ Start Scrape</button>
                            <button id="downloadBtn" class="btn btn-outline-primary" disabled>ðŸ“¥ Download
                                Latest</button>
                        </div>

                        <div class="mt-3">
                            <div id="status" class="small text-muted">Status: Idle</div>
                        </div>
                    </div>
                </div>

                <div class="card shadow-sm">
                    <div class="card-body">
                        <h6>Presets</h6>
                        <div class="d-flex gap-2">
                            <select id="presetSelect" class="form-select">
                                <option value="">â€” select preset â€”</option>
                            </select>
                            <button id="savePreset" class="btn btn-sm btn-outline-success">Save current</button>
                            <button id="removePreset" class="btn btn-sm btn-outline-danger">Remove</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-7">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5>Results Preview</h5>
                        <div class="table-responsive">
                            <table id="resultsTable" class="table table-striped" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Value</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div id="errors" class="mt-3 text-danger"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>